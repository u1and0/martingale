## martingale.py 5.2

__UPDATE5.2__

* 関数playのbreak条件
	* "100回プレイしたら"==>"資産が初期資産の10倍になったら"に変更
	* 何倍で脱出するのがいいんですかね
	* ある程度溜まったら口座からひきおろしたいから、その条件を次のバージョンに付け加えよう。
* 最終的な資産ではなく、資産がいくら増えたか(減ったか)をリスト内包表記で記述し、プロットする

__UPDATE5.1__
plotできるようにした  
資産曲線と収益曲線を描こうと思ったけど、  
重要なのは最終利益なんで  
最後の結果として、  
1000回プレイした後のそれぞれの最終資産を棒グラフで示した  
初期資産を10回、100回、100回と増やしていくと勝率が50%に近づいて確実に負けないようになるが、  
資産はそれほど増えない  
課題は確実性を見極めること、資産増加率を見極めること  

![試行回数10回](https://raw.github.com/wiki/u1and0/martingale/pic/trial10.png)
![試行回数100回](https://raw.github.com/wiki/u1and0/martingale/pic/trial100.png)
![試行回数1000回](https://raw.github.com/wiki/u1and0/martingale/pic/trial1000.png)


__UPDATE5.0__
関数の整理  
初期資産10で動くようにした  

標準出力に以下を出力する  
* 100回分のゲーム結果
* 最終資産のリスト(100要素)
* 勝率(ゲーム数=100回平均)


__UPDATE4.1__
関数に分割
同じ初期資産を100回計算させて、収益のリストprofitListを得る

__INTRODUCTION__
投資法「マーチンゲール」
1/2の確率で勝負するゲーム(たとえば表裏当てコインゲーム)のシミューレーション

__USAGE__
Just build.

__ACTION__
基本掛け金1
資産から掛け金を引く
買ったら
	掛け金の倍額もらう
	掛け金を基本賭け金に戻す
負けたら
	掛け金は戻らない
	次の掛け金を倍にする
資産がなくなるか、ゲーム回数が*n*回超えたら終了

__PLAN__
初期資産を変えて最も効率の良い「初期資産/掛け金の割合」を見つける

* 勝率を50%に十分近づける
* 負け(=初期試算を下回る)を少なくする
* 資産増加率を見極める
* 資産が*n*倍になったらassetから引く
* 引いた数をカウントする
* オプション取引のルールに最大購入金額というものがあるので、それを再現する。つまりbetはある程度の大きさまで行くと増えなくなる。

pyplot使って可視化
yield使ったほうがよいんではないかい？













## game.py ver1.1
__UPDATE1.1__
逐一assetとgameの結果を比較して、assetを超えたらループ終了  

__UPDATE1.0__
first commit

__INTRODUCTION__
ジェネレータを使ってゲームの掛け金表した

__USAGE__
just build

__ACTION__
**引数**
bet:掛け金
gametime:ゲーム回数

**戻り値**
profit:掛け金に対する報酬(勝ったらbet,負けたら0)

**ルール**
乱数返して半分の確率で勝敗決める
ジェネレータ式 gameでイールドされたイテレータをprint

__PLAN__
gameの結果を資産(asset)に追加したり差し引いたり
グラフにプロット






## maxbet ver1.0

__UPDATE1.0__
first commit

__INTRODUCTION__
最大購入可能金額(Max Bet)を調べるpy

__USAGE__

* 引数
	* asset:資産
	* mode:デフォルトはラダー取引。レンジにするには第2引数に'r'か'range'と入れる。省略するとラダー、'r'か'range'の文字以外でもラダー
* 戻り値
	* 最大購入可能掛け金(単位:万円)

importして使用
または
TESTのコメントアウトはずしてbuild

__ACTION__
ラダー(ladder)とレンジ(range)の2種類の取引方法
口座口数0~600以上でif文分岐
数字は[YJFX!のバイナリオプトレのページ](http://www.yjfx.jp/opt/information/outline/)のを拾ってきた。

__PLAN__
none
